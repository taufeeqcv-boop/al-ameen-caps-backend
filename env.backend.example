# =============================================================================
# Backend environment variables (Netlify Functions + local netlify dev)
# =============================================================================
# Copy these into Netlify: Site settings → Environment variables
# Or merge into .env for local "netlify dev"
# =============================================================================

# SUPABASE – use the SAME project for ALL four variables below.
# If reservations save (and emails send) but Pre-Orders don't show in Admin,
# the frontend is reading from a different project. Set VITE_* to the same
# Supabase project as SUPABASE_URL, then redeploy so the build picks them up.
#
# Get from: Supabase Dashboard → Settings → API → Project URL, anon key, service_role key
SUPABASE_URL=https://nvzmesnuxczmafjunbob.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
# Frontend (admin, shop, auth) – MUST be same project as SUPABASE_URL. Use ANON key only; never put service_role in VITE_*.
VITE_SUPABASE_URL=https://nvzmesnuxczmafjunbob.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# PAYFAST (required for payment flow)
# Sandbox below; replace with live credentials when going live
PAYFAST_MERCHANT_ID=10000100
PAYFAST_MERCHANT_KEY=46f0cd694581a
PAYFAST_PASSPHRASE=salt

# SITE URL (optional – PayFast return/cancel/notify URLs)
# On Netlify you can leave unset; code uses process.env.URL
# Local: http://localhost:8888 or your ngrok URL
# VITE_SITE_URL=https://your-site.netlify.app

# VITE_FUNCTIONS_BASE (set on the FRONTEND site when frontend and backend are different Netlify sites)
# If www.alameencaps.com deploys separately from al-ameen-caps-backend, set on alameencaps.com:
# VITE_FUNCTIONS_BASE=https://al-ameen-caps-backend.netlify.app
# This lets Pre-orders (reservation) and PayFast ITN (itn-listener) reach the backend.

# IMAGE BASE (optional – only if you have a separate FRONTEND deploy where product images don't load)
# Set on the FRONTEND site to the URL of the deploy that serves images (e.g. backend):
# VITE_IMAGE_BASE_URL=https://al-ameen-caps-backend.netlify.app

# EMAIL (optional – reservation.js, send-shipping-notification, send-order-confirmation)
# ADMIN_EMAIL=admin@example.com
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your@gmail.com
# EMAIL_PASS=your-app-password

# Optional: secret for internal call from itn-listener to send-order-confirmation (recommended in production)
# ORDER_CONFIRMATION_SECRET=your-random-secret
